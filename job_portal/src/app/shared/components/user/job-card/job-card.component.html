<!-- src/app/shared/components/user/job-card/job-card.component.html -->
<a (click)="navigateToJobDetails()" class="block cursor-pointer">
  <div class="bg-white p-6 rounded-md shadow border hover:shadow-md transition-shadow">
    <div class="flex justify-between items-start">
      <div class="flex-1">
        <h3 class="font-semibold text-lg mb-2">{{ job.title }}</h3>
        <div class="flex items-center mb-2">
          <p class="text-sm text-gray-600">{{ job.company || job.company_name }}</p>
          <span *ngIf="job.rating || job.company_rating" class="ml-2 text-yellow-500 text-sm">
            <i class="fas fa-star"></i> {{ job.rating || job.company_rating }}
          </span>
          <span *ngIf="!job.rating && !job.company_rating" class="ml-2 text-gray-400 text-sm">
            <i class="far fa-star"></i> No rating
          </span>
          <span *ngIf="job.reviews || job.company_reviews_count" class="ml-1 text-xs text-gray-500">
            {{ job.reviews || job.company_reviews_count }} Reviews
          </span>
        </div>
        <div class="flex items-center text-sm text-gray-500 mb-2">
          <span>{{ job.experience || job.experience_level }}</span>
          <span class="mx-2">•</span>
          <span>{{ job.location }}</span>
          <span *ngIf="job.employment_type" class="mx-2">•</span>
          <span *ngIf="job.employment_type">{{ job.employment_type }}</span>
        </div>
        <p class="text-sm text-gray-700 mb-3">{{ job.summary || getDescriptionText(job.description) }}</p>
        <div class="flex flex-wrap gap-2 mb-2">
          <span *ngFor="let tag of job.tags?.slice(0, 3) || []" class="text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded">{{ tag }}</span>
        </div>
        <div class="flex items-center justify-between">
          <p class="text-xs text-gray-500">{{ (job.postedDate || job.posted || job.created_at) | timeAgo }}</p>
          <span *ngIf="job.salaryRange" class="text-sm font-medium text-green-600">{{ job.salaryRange }}</span>
        </div>
      </div>
      <div class="flex flex-col items-end ml-4">
        <div *ngIf="!job.logo" 
             class="w-12 h-12 rounded flex items-center justify-center text-sm font-bold mb-2 text-white"
             [style.background-color]="job.color || '#3B82F6'">
          {{ job.logoText || (job.company || job.company_name)?.charAt(0)?.toUpperCase() || 'C' }}
        </div>
        <img *ngIf="job.logo" [src]="job.logo" class="w-12 h-12 mb-2 rounded" [alt]="(job.company || job.company_name) + ' Logo'">
        <button (click)="saveJob($event)" class="text-blue-600 text-sm hover:underline">
          <i class="far fa-bookmark"></i> Save
        </button>
      </div>
    </div>
  </div>
</a>